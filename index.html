
<html>   
  <head>
    <title>Welcome to wraithcode</title>
    <link rel="icon" href="/favicon.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <style>
      body {margin: 0; font-family: "Manrope"; color: #ffffff; background: #000000; padding-top: 80px;}
      .bottom {width: 100%; height: 45px; margin-bottom: 20px; margin-top: 30px; background: #000000; overflow: hidden; position: relative;}
      .bottom:before {content: ""; display: block; background: #000000; position: absolute; border-radius: 100%; width: 100%; height: 300px; border-top: 2px solid #ffffff; right: -25%; top: 0px; clip-path: polygon(0 0, 100% 0%, 68% 10%, 0 4%);}
      .bottom:after {content: ""; display: block; background: #000000; position: absolute; border-radius: 100%; width: 100%; height: 300px; border-bottom: 2px solid #ffffff; left: -25%; top: -258.5px; clip-path: polygon(32% 90%, 100% 90%, 100% 100%, 0% 100%);}
      nav {height: 100px; width: 100%; background: linear-gradient(#000000 10%, #00000000 100%); position: fixed; top: 0; left: 0; z-index: 5; display: flex;}
      nav .left {height: 60px; width: 50%; display: flex;}
      nav .left img {height: 40px; margin: 10px;}
      nav .right {height: 60px; width: 50%; display: flex; justify-content: right;}
      nav a {font-weight: bold; height: 100%; width: 100px; display: flex block; justify-content: center; align-items: center;}
      
      h1 {font-size: 70px; margin: 0; margin-left: 20px; pointer-events: none; user-select: none;}
      h3 {color: #cfcfff; margin: 0; margin-left: 20px; width: 200px; font-size: 40px; position: relative; pointer-events: none;}
      #puddlething {height: 190px; width: 100%; background: #000000; position: absolute; left: 0; top: 70px; z-index: -1; user-select: none; pointer-events: auto; color: #ffffff;}
      #puddlething:after {height: 100%; width: 100%; content: ""; display: block; background: linear-gradient(#00000000 50%, #000000 100%); position: absolute; z-index: 2; pointer-events: none;}

      .renovating {height: 100%; width: 100%; background: #00000069; position: absolute; top: 0; left: 0; display: flex; align-items: center; justify-content: center;}
      .renovating h1 {color: #ff99ff; font-size: 75px;}
      .renovating p {color: #cc66cc; font-size: 24px;}
    </style>
  </head>
  <body>
    <nav>
      <div class="left">
        <img src="/logo_large.png">
        <a>Home</a>
        <a>About</a>
      </div>
      <div class="right">
        <a>More</a>
      </div>
    </nav>
    <h1>wraithcode</h1>
    <h3>Developer</h3>
    <div class="bottom"></div>
    <p style="margin-left: 20px; margin-top: 20px;">I spent half an hour making this curvy thing haha</p>
    <div class="renovating"><h1>Closed for renovations. Check back soon!</h1><p>All eaglercraft pages are still operational.</p></div>
    <div id="puddlething"></div>
    <script>
      class NodeBase{constructor(e,t,i,s){this.xx=e,this.yy=t,this.data=i,this.mathMode=s,this.omniForce=0,this.fx=0,this.fy=0,this.nextFx=0,this.nextFy=0,this.currentForce=0,this.nextForce=0,"helias"===this.mathMode?(this.updateNode=this.updateNodeHelias,this.computeForceAndDrawNode=this.computeForceAndDrawNodeHelias):(this.updateNode=this.updateNodeAnair,this.computeForceAndDrawNode=this.computeForceAndDrawNodeAnair),this.isAddedToUpdate=!1,this.isMoveForceDelayComplete=!0}applyListeners(){this.element.onclick=()=>this.startRipple(),this.element.onmousemove=()=>{this.data.rippleOnMove&&this.isMoveForceDelayComplete&&(this.isMoveForceDelayComplete=!1,this.startRipple(),setTimeout(()=>this.isMoveForceDelayComplete=!0,500))}}getNodeElement(){return this.element=document.createElement("div"),this.element.className="cell",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.drawNode(0),this.applyListeners(),this.element}startRipple(e=0){e||(e=this.data.maxRippleStrength),this.omniForce=e,this.currentForce=e,this.drawNode(e);for(let t=-1;t<=1;++t)for(let i=-1;i<=1;++i)this.data.addToUpdateQueue(this.xx+i,this.yy+t)}updateForces(e,t,i,s){0==e||0==t?(this.nextFy+=s,this.nextFx+=i):(this.nextFy+=s>>1,this.nextFx+=i>>1)}updateNodeHelias(){let e=this.data.getNode(this.xx,this.yy-1),t=e?e.currentForce:0,i=this.data.getNode(this.xx,this.yy+1),s=i?i.currentForce:0,a=this.data.getNode(this.xx+1,this.yy),h=a?a.currentForce:0,o=this.data.getNode(this.xx-1,this.yy),d=o?o.currentForce:0;this.nextForce=(t+s+h+d)/2-this.nextForce,this.nextForce=this.nextForce*this.data.forceDampeningRatio,this.data.addToDrawQueue(this.xx,this.yy)}updateNodeAnair(){for(let e=-1;e<=1;++e)for(let t=-1;t<=1;++t){if(0==e&&0==t)continue;let i=this.data.getNode(this.xx+t,this.yy+e);if(void 0!=i){if(0!=i.omniForce)this.updateForces(t,e,-t*i.omniForce,-e*i.omniForce);else{let s=0,a=0;0==t||0==e?(t*i.fx<0&&(s=i.fx),e*i.fy<0&&(a=i.fy)):t*i.fx<0&&e*i.fy<0&&(s=i.fx,a=i.fy),this.updateForces(t,e,s,a)}}}if(0!=this.nextFx||0!=this.nextFy)for(let h=0;h<=(0!=this.nextFy);++h)for(let o=0;o<=(0!=this.nextFx);++o)this.data.addToUpdateQueue(this.xx+Math.sign(this.nextFx)*o,this.yy+Math.sign(this.nextFy)*h);this.data.addToDrawQueue(this.xx,this.yy)}drawNode(e){e>150?e=150:e<-50&&(e=-50);let t=25+e/2;this.element.style.background="hsl(0, 0%, "+t+"%)"}computeForceAndDrawNodeHelias(){Math.abs(this.nextForce)<this.data.forceCutOff&&(this.nextForce=0),this.drawNode(this.nextForce);let e=this.currentForce;this.currentForce=this.nextForce,this.nextForce=e,this.data.addToUpdateQueue(this.xx-1,this.yy),this.data.addToUpdateQueue(this.xx+1,this.yy),this.data.addToUpdateQueue(this.xx,this.yy-1),this.data.addToUpdateQueue(this.xx,this.yy+1)}computeForceAndDrawNodeAnair(){this.omniForce=0,this.fx=Math.floor(this.nextFx*this.data.forceDampeningRatio),this.fy=Math.floor(this.nextFy*this.data.forceDampeningRatio),Math.abs(this.fx)<this.data.forceCutOff&&(this.fx=0),Math.abs(this.fy)<this.data.forceCutOff&&(this.fy=0),this.nextFx=0,this.nextFy=0;let e=Math.sqrt(Math.pow(this.fx,2)+Math.pow(this.fy,2));e>100&&(e=100),this.drawNode(e)}}class WaterNode extends NodeBase{constructor(e,t,i,s){super(e,t,i,s)}drawNode(e){e>120&&(e=120),e<-280&&(e=-280);let t=70+e/4,i=70+e/8;this.element.style.background="hsl(198, "+t+"%, "+i+"%)"}}class PartyNode extends NodeBase{constructor(e,t,i,s){super(e,t,i,s)}drawNode(e){e>120&&(e=120),e<-200&&(e=-200);let t=70+e/4,i=100-e/2;this.element.style.background="hsl("+Math.floor(360*Math.random())+", "+t+"%, "+i+"%)"}}class AsciiNode extends NodeBase{constructor(e,t,i,s){super(e,t,i,s),this.asciiShades=[...".,:;'-+=%@W"],this.asciiThreshold=[];for(let a=0;a<this.asciiShades.length;++a)this.asciiThreshold.push(100*a/(this.asciiShades.length-1));"helias"===this.mathMode?this.drawNode=this.drawNodeHelias:this.drawNode=this.drawNodeAnair}getNodeElement(){return this.element=document.createElement("span"),this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.drawNode(0),this.applyListeners(),this.element}drawNodeHelias(e){e>80?e=80:e<-20&&(e=-20),e+=20;let t=this.asciiThreshold.findIndex(t=>t>=e);this.element.innerText=this.asciiShades[t]}drawNodeAnair(e){e>100?e=100:e<0&&(e=0);let t=this.asciiThreshold.findIndex(t=>t>=e);this.element.innerText=this.asciiShades[t]}}class PuddleData{constructor(e,t){this.nodeList=[],this.updateQueue=[],this.drawQueue=[],this.isUpdateDone=!0,this.numRows=e,this.numCols=t,this.maxRippleStrength=100,this.forceDampeningRatio=.8,this.forceCutOff=2,this.rippleOnMove=!0}refresh(e,t){this.nodeList=[],this.updateQueue=[],this.drawQueue=[],this.isUpdateDone=!0,this.numRows=e,this.numCols=t}appendNode(e){this.nodeList.push(e)}getNode(e,t){if(!(e<0)&&!(e>=this.numCols)&&!(t<0)&&!(t>=this.numRows))return this.nodeList[t*this.numCols+e]}addToUpdateQueue(e,t){if(e<0||e>=this.numCols||t<0||t>=this.numRows)return;let i=t*this.numCols+e;this.nodeList[i].isAddedToUpdate||(this.updateQueue.push(i),this.nodeList[i].isAddedToUpdate=!0)}addToDrawQueue(e,t){let i=t*this.numCols+e;this.drawQueue.push(i)}drawElements(){let e=this.drawQueue;for(let t of(this.drawQueue=[],e))this.nodeList[t].computeForceAndDrawNode()}updateElements(){this.isUpdateDone=!1;let e=this.updateQueue;for(let t of(this.updateQueue=[],e))this.nodeList[t].isAddedToUpdate=!1;for(let i of e)this.nodeList[i].updateNode();this.drawElements(),this.isUpdateDone=!0}}class Puddle{constructor(e,t=100){this.parentNode=document.querySelector(e),this.data=new PuddleData(this.numRows,this.numCols),this.areRandomRipplesGenerated=!1,this.updateInterval=t,this.randomGenerationInterval=this.updateInterval,this.randomTimeRange=this.updateInterval,this.useRandomRippleStrength=!0,this.isRandomRippleCreated=!0,this.nodeStyle=NodeBase,this.nodeSize=24,this.mathMode="anair",this.updateLoop=void 0}setNodeStyle(e){"water"===e?this.nodeStyle=WaterNode:"party"===e?this.nodeStyle=PartyNode:"ascii"===e?this.nodeStyle=AsciiNode:"base"===e?this.nodeStyle=NodeBase:console.log("Invalid nodeStyle value"),this.setupGrid()}getNodeSize(){return this.nodeSize}setNodeSize(e){this.nodeSize=e,this.elementHeight&&(this.numRows=Math.floor(this.elementHeight/this.nodeSize),this.numCols=Math.floor(this.elementWidth/this.nodeSize)),this.setupGrid()}setMathMode(e){this.mathMode=e,this.setupGrid()}setupDefaultOptions(){this.elementWidth=this.parentNode.scrollWidth,this.elementHeight=this.parentNode.scrollHeight;let e=this.elementHeight<this.elementWidth?this.elementHeight:this.elementWidth;this.nodeSize=8*e/100,this.elementHeight&&(this.numRows=Math.floor(this.elementHeight/this.nodeSize),this.numCols=Math.floor(this.elementWidth/this.nodeSize))}setupGrid(){clearInterval(this.updateLoop),this.setupDefaultOptions(),this.data.refresh(this.numRows,this.numCols),this.parentNode.innerHTML="",this.parentNode.style.fontFamily="Fira Mono, monospace",this.parentNode.style.fontSize=this.nodeSize+2+"px",this.parentNode.style.display="grid",this.parentNode.style.gridTemplateColumns="repeat("+this.numCols+", "+this.nodeSize+"px)",this.parentNode.style.gridTemplateRows="repeat("+this.numRows+", "+this.nodeSize+"px)";for(let e=0;e<this.numRows;++e)for(let t=0;t<this.numCols;++t){let i=new this.nodeStyle(t,e,this.data,this.mathMode);this.data.appendNode(i),this.parentNode.appendChild(i.getNodeElement())}this.updateLoop=setInterval(()=>this.tryUpdateElements(),this.updateInterval)}toggleRandomRipples(){this.areRandomRipplesGenerated=!this.areRandomRipplesGenerated}toggleRandomRippleStrength(){this.useRandomRippleStrength=!this.useRandomRippleStrength}setMaxRippleStrength(e){this.data.maxRippleStrength=e}setRandomRippleGenerationInterval(e){this.randomGenerationInterval=e,clearTimeout(this.randomRippleTimeout),this.isRandomRippleCreated=!0}setRandomRippleTimeRange(e){this.randomTimeRange=e}setDampeningRatio(e){this.data.forceDampeningRatio=e}setUpdateInterval(e){clearInterval(this.updateLoop),this.updateInterval=e,this.updateLoop=setInterval(()=>this.tryUpdateElements(),this.updateInterval)}createRandomRipple(){let e=Math.floor(Math.random()*this.data.maxRippleStrength),t=Math.floor(Math.random()*this.data.nodeList.length);this.data.nodeList[t].startRipple(e)}createTimedRandomRipple(){this.isRandomRippleCreated=!1;let e=Math.floor(Math.random()*this.randomTimeRange)-this.randomTimeRange/2,t=this.randomGenerationInterval+e;this.randomRippleTimeout=setTimeout(()=>{this.createRandomRipple(),this.isRandomRippleCreated=!0},t)}createWave(){for(let e=0;e<this.numRows;++e)this.data.getNode(0,e).startRipple(400)}toggleRippleOnMove(){this.data.rippleOnMove=!this.data.rippleOnMove}tryUpdateElements(){this.data.isUpdateDone?this.data.updateElements():console.log("Previous update not completed, skipping update"),this.areRandomRipplesGenerated&&this.isRandomRippleCreated&&this.createTimedRandomRipple()}}
    </script>
    <script src="https://batmannair.com/js/mobile-check.js"></script>
    <script>
		  let isTouchDevice = window.mobileAndTabletcheck();

      var puddle = new Puddle("#puddlething");
      puddle.setNodeStyle("ascii");
      puddle.setRandomRippleGenerationInterval(300);
      puddle.setupGrid();
      let defaultMathMode = "helias";
      let defaultMaxRippleStrength = 100;
      if (isTouchDevice) { // Better mobile default options
        defaultMathMode = "helias";
        defaultMaxRippleStrength = 500;
        puddle.setMathMode(defaultMathMode);
        puddle.setMaxRippleStrength(defaultMaxRippleStrength);
        puddle.toggleRippleOnMove();
      }
  
      window.onresize = () => puddle.setupGrid();
	  </script>
  </body>
</html>
